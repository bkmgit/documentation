---
description: >-
  In OpenCRVS v1.5.0 we have refactored the "workflow" microservice and
  deprecated the backend dependency on OpenHIM.  This has vastly improved the
  performance of the platform.
---

# v1.5.0 Release notes

### Breaking changes

*   **Upgrade node version to 18**

    This version enforces environment to have Node 18 installed (supported until April 2025) and removes support for Node 16

    * Use nvm to upgrade your local development environment to use node version `18.19.x.`
    * Specified operating systems in js modules as `darwin, linux`
    * Dev scripts and Vite run with an environment variable `NODE_OPTIONS=--dns-result-order=ipv4first` to resolve ipv4 addresses for `localhost` to support systems that resolves ipv6 addresses by default in Node versions >=17
*   **Update the certificate preview mechanism**

    In effort of minimizing JavaScript-bundle size, we have streamlined the way how review certificate -page renders certificates. In case the images in your certificates are previewing blurry, you need to update your SVG-certificates to print QR-codes and other images directly with `<image width="36" height="36" xlink:href="{{qrCode}}" x="500" y="770"></image>` instead of the more complicated `<rect fill="url(#pattern)"></rect>` -paradigm. This doesn't affect printed certificates as they are still created as previously.
*   **Move default address generation to country-config**

    We are dropping support for 'agentDefault' to be used as initial value for SELECT\_WITH\_DYNAMIC\_OPTIONS type of fields. The country config package now must return the form with prepopulated initial values to show default addresses.
*   **Remove system admin UI items: Application, Certificates, User roles, Informant notifications**

    We have now moved to configuring these items away from the UI in favour of directly editing these from country configuration repository in code - specifically in application-config-default.ts.

### New features

* The login and client application loading experience has improved. A loading bar appears before the javaScript bundle has loaded and this transitions when fetching records. [#6641](https://github.com/opencrvs/opencrvs-core/issues/6641)
* Support for landscape certificate templates.
* Allow defining maxLength attribute for number type fields .[#6356](https://github.com/opencrvs/opencrvs-core/issues/6356)
* A new certificate handlebar for registration fees has been added `registrationFees` [#6817](https://github.com/opencrvs/opencrvs-core/issues/6817)
* Logged in user details handlebar `loggedInUser` [#6529](https://github.com/opencrvs/opencrvs-core/issues/6529)
* Introduce two new properties to the form field `DOCUMENT_UPLOADER_WITH_OPTION`
  * `compressImagesToSizeMB` : An optional prop of number type to define a compressed size. Compression is ignored when the input file is already smaller or equal of the given value or a falsy given value.
  * `maxSizeMB`: An optional validation prop to prevent input of a file bigger than a defined value.
* Change auth URLs to access them via gateway
* Add hearth URL to search service
* Include an endpoint for serving individual certificates in development mode
* Include compositionId in confirm registration payload
* Move individual configuration options to feature flags
* Remove logrocket refrences
* Upgrade to node 18
* Enable gzip compression in client & login
* Make SENTRY\_DSN variable optional
* Use docker compose v2 in github workflows
* Mass email from national system admin
* Remove dependency on openhim. The openhim db is kept for backwards compatibility reasons and will be removed in v1.6
* Add smtp environment variables in qa compose file
* Use image tag instead of patterns in certificate SVGs
* Generate default address according to logged-in user's location
* Remove authentication from dashboard queries route
* Added french translation of informant for print certificate flow, issue certificate flow & correction flow
* In the certificate, the 'Place of Certification' now accurately reflects the correct location.
* Added french translation of informant for print certificate flow, issue certificate flow & correction flow
* Groom's and Bride's name, printIssue translation variables updated [#124](https://github.com/opencrvs/opencrvs-countryconfig/pull/124)
* Add query mapper for International Postal Code field
* Add support for image compression configuration
* Provide env variables for metabase admin credentials

**Infrastructure**

* Treat backup host identically to other hosts. To migrate:
  1. Move all inventory files (qa.yml, production.yml...) from `infrastructure/server-setup` to `infrastructure/server-setup/inventory`
  2. Run environment creator for your backup server `yarn environment:init --environment=backup`
* Allow using staging to both period restore of production backup and also for backing up its own data to a different location using `backup_server_remote_target_directory` and `backup_server_remote_source_directory` ansible variables. This use case is mostly meant for OpenCRVS team internal use.
* Automate SSH key exchange between application and backup server. For staging servers, automatically fetch production backup encryption key if periodic restore is enabled
* Improved support for non-22 SSH port
