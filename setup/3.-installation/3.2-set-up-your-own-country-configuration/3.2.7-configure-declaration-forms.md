# 3.2.7 Configure declaration forms



### A brief history of form configuration in OpenCRVS

A key selling point of OpenCRVS has always been that you can configure the registration forms for your country needs.

In OpenCRVS alpha releases before v1.0, (e.g. [v1.0.0-alpha.3.1](https://github.com/opencrvs/opencrvs-farajaland/blob/1.0.0-alpha.3.1/src/farajaland/features/forms/register.json)) forms were configurable via [JSON](https://en.wikipedia.org/wiki/JSON).&#x20;

A developer could have complete control over all pages in the form, all field types and all form validations and conditional actions to show/hide a field depending on user input.  JSON strings would map to internal opencrvs-core javascript functions during [deserialization](https://github.com/opencrvs/opencrvs-core/blob/develop/packages/client/src/forms/deserializer/deserializer.ts) to allow data to map to and from the FHIR standard.

However, as it was very easy for developers and implementers to make a syntax mistake when using JSON, we introduced a form configuration user interface for our first official OpenCRVS release v1.0.

The form configuration user interface allowed non-technical administration staff to be able to create basic form fields in some form sections.  These users could create custom form fields of certain types.

A lot of development and quality assurance work was continuously required to ensure that users could not introduce bugs to their form configuration which would break OpenCRVS.  For example, some fields are absolutely required to exist for successful registration.  Other fields are required to exist to enable notifications to informants via SMS or Email.

When we worked in various countries, we were often asked to edit or move these required fields to other sections.  We were often asked to make custom fields for all kinds of HTML input types, more than the provided basic selects and text input variations. &#x20;

We eventually accepted that to make the form configuration UI capable of responding to every country's needs would require a massive investment of time and resources that would be better spent developing other features.  Form configuration UI became a sinkhole for development and quality assurance funding.  Infinite form possibilities&#x20;



&#x20;OpenCRVS v1.1 we introduced a form&#x20;

#### Before you start

* Only a National System Admin can configure application settings
* Default configuration for birth and death forms are based on UN guidelines
* A set list of questions are required for registration and can not be removed
* You can add any number of custom questions to a page
* Update labels, error messages, placeholders, select options etc following our guidance in section 3.2.7-set-up-language-content.md
* Note the 3 statuses of a declaration form under configuration, Draft, In Preview and Published.\
  **Draft**: can be edited\
  **In Preview**: available for Field agents, Registration Agents and Registrars so you can test the form\
  **Published**: the declaration form configuration is complete and your OpenCRVS configuration is ready to go live.
* **Once a declaration form has been set to the status 'Published' it can no longer be edited. NOTE: You will have to start again, clear your database and repeat the processes from** 3.2.5-import-set-up-files **to make any changes to a published form.**
* You may notice the warning "Nothing is currently published..." Any test declaration, or event registration made while forms remain unpublished are deleted from the database at the point of publishing. **Do not use OpenCRVS in production with unpublished forms.**

#### Steps

1. **Edit a draft (Farajaland default configuration)**\
   Click 'Configure' to navigate to form configuration\\
2. **Set global form settings**\
   Click the cog ⚙️ button in the top menu. Here you can enable or disable the introduction page in the form (this page is used to help explain your CRVS process to the informant). You can also set the number of addresses required from the informant, parent and deceased. \\
3. **Adding a custom question**\
   You can add 4 types of custom text fields. Text field, text area field, phone number and and number field.\
   \
   Select the field you want to add and rename the label. If your configuration has multiple questions you will need to complete the mandatory fields first to save your custom question.
4. You must update required fields for **all languages you support** otherwise you cannot save the form.\
   \
   \
   \
   Too reorder a question use the arrows.\
   \
   \\
5. **Hiding a question**\
   To hide a question that is not a mandatory question. Select the question eg. Occupation and toggle the option 'Hide field'. To show and hide hidden questions toggle the option 'Show hidden fields'\
   \
   \\
6. **Setting a question to be required for registration**\
   To make a question mandatory. Click on the question and toggle the option 'Required for registration' on. This will add a \* to the question make it mandatory to complete and register a declaration. \\
7. **Save your draft configuration**\
   To save your changes click 'Save'. Add a comment so you can track the changes you have made. A new draft version will be created. \\
8. **Preview and testing**\
   To preview your configuration. Click the menu button ••• and select 'Preview'. This will make the declaration form available for Field agents, Registration Agents and Registrars so you can test the form. \\
9. **Making further edits**\
   To make additional edits to your declaration form. Navigate to the tab 'Draft' and select 'Edit'.\\
10. **Publish your declaration form**\
    Only publish a declaration form when you ready to go live and for OpenCRVS to be used by registration offices. You will not be able to make any future edits. Make sure your latest configuration is 'In Preview'. Then click 'Publish'

{% hint style="warning" %}
Note that for new fields added that you would like to appear on the certificate, you will need to make a note of the content key **before** publishing.
{% endhint %}
